<html>
<head>
	<style>
	canvas {
	background: #eee;
	}
	.image-btn1 {
	width: 81px;
	height: 48px;
	background: url(images/body_1.jpg) no-repeat 50% 50% / cover;
	}
	.image-btn2 {
	width: 81px;
	height: 48px;
	background: url(images/body_2.jpg) no-repeat 50% 50% / cover;
	}
	.image-btn3 {
	width: 81px;
	height: 48px;
	background: url(images/body_3.jpg) no-repeat 50% 50% / cover;
	}
	.image-btn4 {
	width: 81px;
	height: 48px;
	background: url(images/body_4.jpg) no-repeat 50% 50% / cover;
	}
	.image-btn5 {
	width: 81px;
	height: 48px;
	background: url(images/body_5.jpg) no-repeat 50% 50% / cover;
	}
	</style>
</head>

<body>
	<div style="float: left; margin-top: 90px;">
		<div class="control">
		<button class="image-btn1" data-type="image" data-id="1"></button> <br>
		<button class="image-btn2" data-type="image" data-id="2"></button> <br>
		<button class="image-btn3" data-type="image" data-id="3"></button> <br>
		<button class="image-btn4" data-type="image" data-id="4"></button> <br>
		<button class="image-btn5" data-type="image" data-id="5"></button>
		</div>
	</div>
	
	<div style="display: inline-block;">
		<canvas class="canvas" width="86" height="607"
		>이 브라우저는 캔버스를 지원하지 않습니다.</canvas
		>
	</div>

	<script>
	const canvas = document.querySelector(".canvas");
	const context = canvas.getContext("2d");
	const control = document.querySelector(".control");
	
	// 배경 그림 붙여넣기 - https://stonefree.tistory.com/392
	const img = new Image();
	img.onload = () => {
		context.drawImage(img, 0, 0);
	};
	img.src = 'images/149.jpg';
	
	const img1 = new Image();
	img1.src = "images/body_1.jpg";
	
	const img2 = new Image();
	img2.src = "images/body_2.jpg";
	
	const img3 = new Image();
	img3.src = "images/body_3.jpg";

	const img4 = new Image();
	img4.src = "images/body_4.jpg";
	
	const img5 = new Image();
	img5.src = "images/body_5.jpg";

	// brush 초기값
	let id_number = "1";
	
	/*
		캔버스 에  brush ( 붓 자국 ) 찍기
		https://velog.io/@thdrldud369/캔버스-이미지-그리기-및-그림판-만들기
	*/
	const downHandler = () => {
	// clientX, clientY는 브라우저의 왼쪽위를 기준으로 그림
	if (id_number === "1") {
	context.drawImage(img1, event.offsetX-40, event.offsetY-24);
	}
	else if (id_number === "2") {
	context.drawImage(img2, event.offsetX-40, event.offsetY-24);
	}
	else if (id_number === "3") {
	context.drawImage(img3, event.offsetX-40, event.offsetY-24);
	}
	else if (id_number === "4") {
	context.drawImage(img4, event.offsetX-40, event.offsetY-24);
	}
	else if (id_number === "5") {
	context.drawImage(img5, event.offsetX-40, event.offsetY-24);
	}
	};

	// brush 버튼 클릭
	const setColor = (event) => {
	brush = event.target.getAttribute("data-type");
	id_number = event.target.getAttribute("data-id");
	};
	/*
		데이터셋은 태그 내에 data- 로 시작하는 키워드를 기재하고 그 뒤에 하이픈(-)이 조합된 형태로 개발자가 정의하고 싶은 속성명을 기재해주고 속성값을 써주면 사용자 변수가 완성된다.
		https://inpa.tistory.com/entry/JS-📚-HTML-데이터셋data-속성
	*/

	// 원하는 위치를 마우스를 클릭했을때 도형을 그리기
	canvas.addEventListener("mousedown", downHandler);
	control.addEventListener("click", setColor);
	</script>
</body>
</html>